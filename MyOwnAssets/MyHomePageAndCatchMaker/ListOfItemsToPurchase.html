<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #cartsection {
            position: relative;
            height: 40px;

        }

        #cartcon {


            position: fixed;
            background-color: rgb(81, 53, 2);
        }

        #cartsection span {
            vertical-align: middle;
        }

        #catchebasket {
            background-color: wheat;
            display: inline-block;
            width: 33px;
            height: 40px;

        }

        #cartcountervalue {
            position: relative;
            display: inline-block;
            top: 5px;
            z-index: 2;
            width: 15px;
            height: 15px;
            background-color: white;
            text-align: center;
            font-weight: bold;
            border-radius: 5px;


        }

        #cartCashHolder {
            color: white;
        }

        td {
            border-width: 1px;
            border-style: solid;
            border-spacing: 2px;
            padding: 3px;
        }

        #myimg {
            z-index: 1;
        }


        table {
            width: 500px;
            background-color: azure;
            cursor: pointer;
            border-width: 1px;

            box-shadow: 15px 10px gray, -10px 15px gray, -10px -15px gray;
        }

        .datadescsec {
            color: black;
            background-color: yellow;
        }

        #navigation1 button,
        #navigation2 button {
            background-color: darkred;
            color: white;
            width: 100px;
            height: 30px;
            border-radius: 5px;
            font-size: 14px;
        }

        #navigation1 button:hover,
        #navigation2 button:hover,
        #allpackage:hover,
        #superpaymentdiscountpayment:hover {
            background-color: black;

        }


        #appcartegorySelector {
            background-color: black;
            color: white;
            width: 200px;
            height: 30px;
        }

        #superpaymentdiscountpayment,
        #allpackage {
            background-color: black;
            color: white;
            width: 100px;
            height: 30px;
            border-radius: 5px;
            font-size: 14px;
        }

        #superpaymentdiscountpayment:hover,
        #allpackage:hover {
            background-color: darkred;

        }

        #navigation1 {
            margin-top: 5px;
        }

        #navigation1,
        #navigation2 {
            margin-bottom: 5px;
        }

        body {
            padding: 2px;
            background-color: azure;
            /*  font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;*/
            /*  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;*/
            /* font-family: 'Cambria', 'Cochin', 'Georgia', 'Times', 'Times New Roman', serif; */
            /*  font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif */
            ;
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
            font-size: 1em;
        }

        #sideDisplay {
            display: none;

        }


        #typedwriter {
            color: black;
            display: inline-block;
            width: 50%;
            height: 40px;
            padding: 2px;

        }

        .termsandcon {
            overflow: scroll;
            background-color: darkred;
            display: inline-block;
            color: white;
            width: 50%;
            height: 100px;
            margin: 5px 0px 5px 0px;
            padding: 2px;

        }


        .imgpackageForResposiveSmallScreen {
            /* here img is just use to control td width and height */

            width: 70px;
            height: 60px;
            opacity: 0.1;
        }

        #weEnsureQual {
            width: 50%;
            display: inline-block;
            color: red;
        }

        @media screen and (min-width:1165px) {

            /* from min width of 1165px and above */
            #sideDisplay {
                display: inline-block;

            }

            .termsandcon,
            #typedwriter {
                min-width: 55%;

            }



            table {
                width: 700px;
            }
        }

        @media screen and (max-width:1165px) {
            table {
                width: 500px;
            }
        }




        @media all and (max-width:768px) {

            .termsandcon,
            #typedwriter {
                min-width: 100%;

            }



            #weEnsureQual {
                width: 100%;
            }

            /* resposive table for small screen for our table */
            table,
            th,
            tr,
            td,
            tbody,
            td p table div,
            table table {
                width: 100% !important;
                float: left;
                clear: both;
                display: block;
                text-align: center;
            }

            table img {
                max-width: 100%;
                height: auto;
                min-height: 20px;

            }

            .imgpackageForResposiveSmallScreen {
                /* here img is just use to control td width and height */
                /* but at this time it will show */
                width: 200px;
                height: 150px;
                opacity: 1;
                border-color: bisque;
                border-width: 1px;
                border-style: solid;

            }



        }
    </style>



    <!---splide slider-->
    <link rel="stylesheet" href="splideslider/dist/css/splide.min.css">
    <script src="splideslider/dist/js/splide.min.js"></script>
    <!--
    <script src="../database/advertdata.json"></script>
-->
    <script src="../PaystackAtFrontEndIntegration/Jquery3_7_0.js"></script>

    <script src="typed.umd.js" type="text/javascript"> </script>

    <script src="../database/DGC price data.json"></script>
    <script src="../database/advertdata.json"></script>
    <script src="../database/appcartegory.json"></script>

    <!-- Include the  sweetalert2@9 library   for pop alert box-->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9">
    </script>


</head>

<body>

    <div id="sideDisplay" style=" position: relative; width:500px; height:600px; float:right; ">
        <section class="splide" style="position: fixed;">

            <div class="splide__track">
                <ul class="splide__list">
                    <li class="splide__slide"><img src="../../assets/img/More/billborad-data-inpixio-1999x2829.jpg"
                            style="width:500px; height:600px;" />
                    </li>
                    <li class="splide__slide"><img src="../../assets/img/More/good 2-1024x803.png"
                            style="width:500px; height:500px;" />
                    </li>
                    <li class="splide__slide"> <img src="../../assets/img/More/good-1-inpixio-552x426.jpg"
                            style="width:500px; height:500px;" />
                    </li>

                    <li class="splide__slide"> <img src="Images/Avater.gif" style="width:500px; height:300px;" />
                    </li>
                </ul>
            </div>

            <button class="splide__toggle" type="button">
                <span class="splide__toggle__play">Play</span>
                <span class="splide__toggle__pause">Pause</span>
            </button>


            <script>
                document.addEventListener('DOMContentLoaded', function () {
                    //  var splide = new Splide('.splide');

                    var splide = new Splide('.splide', {
                        type: 'loop',
                        autoplay: 'play',
                        perPage: 1,
                    });


                    splide.on('autoplay:playing', function (rate) {
                        //console.log(rate); // 0-1
                    });
                    splide.mount();
                });
            </script>
        </section>
    </div>
    <div>

        <div id="cartsection">
            <div id="cartcon">


                <span id="catchebasket">

                    <center><span>+</span><span id="cartcountervalue"> </span>

                        <img src="catchbasket.png" id="myimg" width="20px" height="20px">

                    </center>
                </span>


                <span id="cartCashHolder"> Overall Reg. Fee: # <span id="totalprice">0</span>
                </span>


                <a href="#pay"> <button id="proceedToBuy">Proceed Registration</button> </a>

            </div>
        </div>


        <div id="navigation1">
            <button id="homebtn"> Home </button>

            <a href="ListOfItemsToPurchse.html?viewTable=ALL"><button>
                    Promo Video
                </button></a>

            <a href="ListOfItemsToPurchse.html?viewTable=ALL"><button style="width:200px">
                    Online-Live-Training guide
                </button></a>

            <a href="InstalmentPaymentSupport.html"><button style="width:200px">
                    Instalment Payment
                </button></a><br />
        </div>
        <div id="navigation2">
            <button id="webhome"> Website </button>
            <button id="Androidhome"> Android </button>
            <button id="IOsHome"> Apple_IOs </button>
            <button id="contactus"> Contact us </button>


        </div>



        <div style="position:relative;">

            <!--         <span id="element" style="position:fixed; background-color: white;"></span>
 -->
            <span id="typedwriter"></span>

            <script>
                document.onreadystatechange = function () {

                    var typed = new Typed('#typedwriter', {
                        // strings: ["My Data Maker", "Micheal Data Killer"],
                        strings: advert.advertdata,
                        typeSpeed: 40,
                        loop: true,
                        backDelay: 900,
                        backSpeed: 20,
                    });


                }();
            </script>
        </div>

        <div>

            <span class="termsandcon">

                <span style="background-color: red;">TERMS AND CONDITION :</span>
                <script>
                    Array.from(programPackage.TermAndCondition.termscon).forEach(termsData => {
                        document.write(termsData + "<br/>");

                    });
                </script>

            </span>
            <br>
            <span id="superPromoContainer">
                <script>document.write(programPackage.superPromoDiscount.comment)</script>
                <!--  <input type="checkbox" id="superpromopricecheckbox" /> -->
                <strike>N</strike><span id="superpromoprice"> </span>
                <button id="superpaymentdiscountpayment">pay
                    super</button>
            </span>
            <br />


            <br />
            <span id="weEnsureQual">We ensure quality training. All faculty are 99%
                ready and available.
                Our Training support online / Remote Class, Office / Offline / and on-site.
                Training Days per Package in a week is 3 days. Newly registered student start 7 working days after
                registration.
            </span> <br /> <br />

            <br />
            <a href="ListOfItemsToPurchase.html?viewTable=ALL">
                <button id="allpackage">
                    All
                    Package
                </button>
            </a>

            <select id="appcartegorySelector">

                <option>Select Packages</option>



            </select>


        </div>

        <table id="tableItSelf">
            <thead>
                <tr style="background-color:orange;">
                    <th>Image</th>
                    <th>Name</th>
                    <th>Package Code</th>
                    <th>Price</th>
                    <th>Duration</th>
                    <th>Purchase</th>
                    <th>Cart</th>
                </tr>


            </thead>
            <tbody id="tablebody">

            </tbody>


        </table>




        <hr>
        <h1 id="cartTitle"> Cart Result: Your Preferred Selection >></h1>

        <table id="cartTable">
            <thead>
                <tr>
                    <th>Image</th>
                    <th>Name</th>
                    <th>Package Code</th>
                    <th>price</th>
                    <th>Duration</th>
                    <th>Purchase</th>
                    <th>Cart</th>
                </tr>

            </thead>
            <div class="accordion-container2">
                <tbody id="cartTableBody">

                </tbody>
            </div>
            <tfoot id="cartfooter" style="background-color:rgb(81, 53, 2);color:white;">
                <td colspan="6">
                    <center> Total Cost = <span id="costreg"> </span>
                        <button id="makepaymentToServer" name="pay"
                            style="margin-left:5px; color: blue; background-color: silver;border-radius: 1px; font-weight: bold;">Pay</button>

                    </center>
                </td>
                <td> <button id="moveupward">move upward</button></td>
            </tfoot>

        </table>

    </div>
</body>
<script>

    document.onreadystatechange = function () {
        var tablebody = document.getElementById("tablebody");

        (function () {
            console.log("Displaying Database \n" + programPackage); //loading Localdata.json file that

            // was added in the head of html

            var mainData = "";
            var tableData = "";
            for (var a = 0; a < programPackage.programs.length; a++) {
                //console.log("programPackage[a].name");
                //   if (programPackage.programs[a].packagecode == "dgc001") {
                //   tableData = creatMainRowsMaker(tableData, programPackage, a);
                //   }
                // getUrlData(datakey)
                if (getUrlData("homePageCard") != null && getUrlData("homePageCard") == programPackage.programs[a].rowNo) {
                    tableData = creatMainRowsMaker(tableData, programPackage, a);
                }
                else if (getUrlData("viewTable") != null && getUrlData("viewTable") == "ALL") {
                    tableData = creatMainRowsMaker(tableData, programPackage, a);
                } else if (getUrlData("categoryDropdownlist") != null && programPackage.programs[a].category != null) {
                    if (getUrlData("categoryDropdownlist") != null && getUrlData("categoryDropdownlist").toLowerCase() === "hot") {
                        //alert("Me data");

                        if (programPackage.programs[a].hot == true) {
                            tableData = creatMainRowsMaker(tableData, programPackage, a);

                        }
                    } else {

                        Array.from(programPackage.programs[a].category).forEach(function (indexDataOfCatagory) {
                            //getUrlData("categoryDropdownlist");


                            if (getUrlData("categoryDropdownlist").toLowerCase() === (indexDataOfCatagory + "").toLowerCase()) {
                                //alert(indexDataOfCatagory);
                                tableData = creatMainRowsMaker(tableData, programPackage, a);

                            }



                        });

                    }
                }
                else if (getUrlData("homePageCardArray") != null) {
                    // alert("array");
                    var homePageCardsArray = getUrlData("homePageCardArray");
                    homePageCardsArray = homePageCardsArray.split(",");
                    console.log("Array Data " + homePageCardsArray);
                    Array.from(homePageCardsArray).forEach(specRowNumber => {
                        //alert("array");
                        if (specRowNumber == programPackage.programs[a].rowNo) {
                            console.log("specRowNumber: " + specRowNumber + " RowNo:" + programPackage.programs[a].rowNo);

                            tableData = creatMainRowsMaker(tableData, programPackage, a);
                        }


                    });

                }


            }
            tablebody.innerHTML = tableData;

            GetCellValues();
            //executeClickEvent();


        })();
        scrollDownToBuy();
        scrollUpToOfScreen();
    }
    function getUrlData(datakey) {
        var urlParameters = window.location.search; // get url starting from ?, not the link
        var searchParams = new URLSearchParams(urlParameters);
        var value = searchParams.get(datakey);
        return value;
    }



    function creatMainRowsMaker(tableData, programPackage, a) {
        var oddEven = a % 2;
        var startTrName;
        var startTDDesc;
        var sizeOfColumn = 7;
        //   color:darkred,brown,rgb(81, 53, 2), maroon,orangered,firebrick,peru,sienna,saddlebrown;

        if (oddEven == 0) {//even number
            startTrName = `<tr style='background-color:darkred; color:white;' class='clickabletr'  >`;
            startTDDesc = `<td colspan="${sizeOfColumn}" style="background-color:darkred; color:white;">`;
        } else {//odd number
            startTrName = `<tr style='background-color:black;  color:white;' class='clickabletr' >`;
            startTDDesc = `<td colspan="${sizeOfColumn}"  style="background-color:black; color:white;">`;
        }


        // console.log(programPackage.programs[a].name);
        var descRow = "";
        if (programPackage.programs[a].description != null) {
            var discriptValue = convertArrayToString(programPackage.programs[a].description);
            var catResultData = creatCategoryData(programPackage.programs[a].category);

            descRow = startTDDesc + `<span style='color:black;background-color:orange; font-weight:bolder'> 
                ${catResultData} <br/>
                
                Desc and things to learn</span> <span class='datadescvalue' style='display:none'> ${discriptValue}    <span style="color:yellow">And more....</span> </span></td>`;


        }



        var priceOfPackage = `<span>${programPackage.programs[a].price}</span>`;
        if (programPackage.programs[a].promoprice > 0 && programPackage.programs[a].promoprice != null) {
            priceOfPackage = `<span>${programPackage.programs[a].promoprice}</span> <br/><strike>N</strike>  <strike>${programPackage.programs[a].price} </strike>`;
        }
        var fireImage = ".";
        if (programPackage.programs[a].hot == true) {
            fireImage = "<img src='Images/fire-gif.gif' width='20px' heigth='15px' style='opacity:1, visibility:visible; float:right;'>";
        }
        //"<tr style='background-color:brown; color:white;' class='clickabletr'>"
        //or
        //<tr style='background-color:gray;  color:white;' class='clickabletr'>"

        //  
        tableData = tableData + `${startTrName} 
                    <td  style='background-image:url(${programPackage.programs[a].image}); background-position:center;
                    background-repeat: no-repeat;background-size:cover; position:relative'> 
                    <span style='color:white; background-color:black; position:absolute;'> 
                            ${a + 1}
                            </span>
                            <img class="imgpackageForResposiveSmallScreen" src=${programPackage.programs[a].image} alt="imageIshere" /> 
                             ${fireImage}
                        </td> 
                        <td>  ${programPackage.programs[a].name} </td> 
                            <td> 
                                <label>  ${programPackage.programs[a].packagecode}</label>
                                <button style='border-radius:5px; background:brown;color:yellow;border-color:pink;'>Library </button>
                                  ${dayOfTheWeek()}${dayOfTheWeek()}${dayOfTheWeek()}
                                </td> 
                            
                            <td><strike>N</strike><span>&nbsp</span>${priceOfPackage}</td> 
                                 
                            <td>   ${programPackage.programs[a].duration}</td>
                                 <td>
                                    <center> 
                                    <label>Online</label>  <input type="checkbox" name="type${a + 1}"/>   
                                                                
                                    <hr/>                              
                                       <button class='purchase' style='border-radius:5px; background:orange;  font-weight:bolder;'>Register
                                    </button>
                                    </center> 
                                    </td> 
                                 <td><button style="width:25px; height:20px;"  class='originatableButtonForSynchWithCartTb${a + 1}' >+</button> <img src="deletepng.png" width='15' height='15'  class='originatableImgForSynchWithCartTb${a + 1}' style='background-color:brown; margin-top:2px';></td> 
                                 
                                  </tr> 
                              <tr>  ${descRow}
                                    
                                </tr>
                               <tr> <td colspan="${sizeOfColumn}" style="border-width:0px"> <hr/> </td> </tr>
                                  `;

        return tableData;
    }
    function scrollUpToOfScreen() {
        var moveupward = document.getElementById("moveupward");
        moveupward.addEventListener("click", function () {
            var cartTableRows = document.getElementById("cartTable").rows;
            var cartTableRowsLastRow = cartTableRows[0];
            window.scrollTo(0, cartTableRowsLastRow.offsetTop);

        });
    }


    function scrollDownToBuy() {
        var proceedToBuy = document.getElementById("proceedToBuy");

        var costreg = document.getElementById("costreg");


        proceedToBuy.addEventListener("click", function () {

            var cartTableRows = document.getElementById("cartTable").rows;
            var cartTableRowsLastRow = cartTableRows[cartTableRows.length - 1];

            var mainTablerows = document.getElementById("tableItSelf").rows;
            var mainTablerowsLastRow = mainTablerows[mainTablerows.length - 1];

            var distance = mainTablerowsLastRow.offsetTop + cartTableRowsLastRow.offsetTop; //heigth
            window.scrollTo(0, +distance);

            // var totalHeigthToGo = lastRow.offsetTop

            // window.scrollTo(0,);
        });
    }

    function creatCategoryData(categoryArray) {
        var catData = "";
        var counter = 0;
        categoryArray.forEach(function (data) {
            catData = catData + `<button style='display:inline; color: black; background-color:wheat; '> ${data} </button>`;
        });

        var divCategory = `<div style="width:300px;"> ${catData}</div>`;
        return catData;
    }

    function convertArrayToString(arrayData) {
        var descData = "";
        for (var b = 0; b < arrayData.length; b++) {

            descData = descData + ", " + arrayData[b];

        }
        return descData;
    }

    function GetCellValues() {
        // you can have access to table row and cell (cplumn) when you use ID/Tag of the table
        // you will not have access to this when using id of the row. so alway use table it self
        // var tableItSelf = document.getElementById("tableItSelf");
        hideAndShowCartTable();



        var rows = document.getElementById("tableItSelf").rows;
        if (!rows) {
            return;
        }

        Array.from(rows).forEach(row => { //row = tr


            var tableItSelf = document.getElementById("tableItSelf");

            if (row.cells.length > 6) {//  if the row have upto 7  column // at sixth index that is sevent col


                var clickabletr = row.getElementsByTagName('button')[0]; //
                if (clickabletr != null) {// any row that have button

                    /* // correct but prefer doing it at column level  that at cell level
                    row.getElementsByTagName('button')[1].addEventListener('click', function () {
                         alert("Data Clicked");
                         row.getElementsByTagName('button')[1].disabled = true;
 
                     }); */

                    console.log("row index " + row.rowIndex);


                    var columnCounter = 0;
                    const cells = Array.from(row.cells);

                    cells.forEach(cell => {


                        if (columnCounter == 2) {//at 3 column that 2 index // library column
                            var priceSpan = cell.getElementsByTagName("span");
                            cell.getElementsByTagName('button')[0].addEventListener('click', function () {

                                var packageCode = cell.getElementsByTagName('label')[0];
                                var data = row.cells[1].innerText;
                                Swal.fire(
                                    //'Hey!',
                                    "Library and Material Notification",

                                    // 'Welcome to GeeksForGeeks',
                                    "Library , Materials,Textbook, Video, Guide and Handout will be forwarded to you after your registration for " + data + "  (" + packageCode.innerText + ")",

                                    'success'

                                );
                            });



                        }



                        if (columnCounter == 5) {//at 6 column that 5th index // register col
                            cell.getElementsByTagName('button')[0].addEventListener('click', function (a) {
                                a.preventDefault();
                                transferRowDataForRegistration(row);
                                // alert("Register Clicked :" + data);
                            });

                            cell.getElementsByTagName('input')[0].addEventListener('input', function () {
                                var addToCatcheBTN = row.cells[6].getElementsByTagName('button')[0];
                                var checkBox = cell.getElementsByTagName('input')[0];

                                if (addToCatcheBTN.disabled == true) {
                                    //alert("button is disabled " + row.rowIndex);
                                    Swal.fire(
                                        //'Hey!',
                                        "Operation Denied",

                                        // 'Welcome to GeeksForGeeks',
                                        "Remove from cart and try again.",

                                        // 'success'
                                        "warning"
                                    );

                                    if (checkBox.checked) {
                                        checkBox.checked = false; //we maintain the way it was before clicking
                                    } else {
                                        checkBox.checked = true; //we maintain the way it was before clicking

                                    }
                                } else {
                                    var monthlyChargeOnLineLiveTraining = programPackage.onlineLiveTrainingMonthlyCharge.charge;
                                    if (checkBox.checked) {
                                        setPriceToTableColumnWithOnlineCharge(row, monthlyChargeOnLineLiveTraining, true);
                                    } else {
                                        var existingprice = getPriceFromTableColumn(row);
                                        var officeprice = existingprice - monthlyChargeOnLineLiveTraining;
                                        setPriceToTableColumnWithOnlineCharge(row, officeprice, false);

                                    }
                                }

                            })

                        }
                        if (columnCounter == 6) {//at seventh column that sixth index
                            //
                            addEventToDesc(rows, row);
                            displayImageCaptureFullPopUp(row);
                            cell.getElementsByTagName('button')[0].addEventListener('click', function () {
                                var price = getPriceFromTableColumn(row);


                                addPriceToCardAndIncreamentCounter(price);

                                cell.getElementsByTagName('button')[0].disabled = true;// +button  //disabled
                                cell.getElementsByTagName('img')[0].style.backgroundColor = "white";
                                cell.getElementsByTagName('button')[0].style.backgroundColor = "brown";


                                //we clone the row for new cart Table
                                var newDuplicatedRow = row.cloneNode(true); // due to row have id, which means it will exits once and no duplicate,but with the help of clone function, we have to clone//duplicate  it  with out  removing the original
                                //we set a class using row index  using originaltable 
                                newDuplicatedRow.setAttribute('class', `clonedRow${row.rowIndex}`); // we set unique class to each of them.

                                // The row index  at which it was in the original table is not same as at the CartTable
                                // And Arrange will scarter when any item is deleted from cart table.

                                var cartRowIndexToBeUseByCart = row.cells[0].getElementsByTagName('span')[0].innerText;

                                //we  also set an id to the cart using table sn  // so we have both class and Id
                                console.log("Cart Row Index Created From Original Table  : " + cartRowIndexToBeUseByCart);
                                newDuplicatedRow.setAttribute('id', `clonedRow${cartRowIndexToBeUseByCart}`);

                                var cartTableBody = document.getElementById("cartTableBody");
                                cartTableBody.append(newDuplicatedRow);


                                //we clone the desc row directly below of  that items  for new cart Table
                                var myDecsDataHolder = rows[row.rowIndex + 1].cloneNode(true);  //next row
                                //  var descripholderTD = myDecsDataHolder.getElementsByTagName("td"); // td that hold desc , td does not have access to doc object

                                var descripholderr = myDecsDataHolder.getElementsByTagName("span"); // td that hold desc

                                if (descripholderr != null) {
                                    myDecsDataHolder.setAttribute('class', `clonedRowDesc${row.rowIndex}`); // we set unique class to each of them.
                                    //we  also set an id using row index  using carttable  // so we have both class and Id
                                    myDecsDataHolder.setAttribute('id', `clonedRowDesc${cartRowIndexToBeUseByCart}`);

                                    cartTableBody.append(myDecsDataHolder);

                                }


                                var trrow = createRowSePerator(`rowseperator${row.rowIndex}`);
                                //we  also set an id using row index  using carttable  // so we have both class and Id
                                trrow.setAttribute('id', `rowseperator${cartRowIndexToBeUseByCart}`);

                                cartTableBody.append(trrow);

                                //trrow.append();
                                hideAndShowCartTable();


                                console.log(row.rowIndex);

                                superPromoCalc();
                            });





                            cell.getElementsByTagName('img')[0].addEventListener('click', function () {
                                var price = getPriceFromTableColumn(row);


                                cell.getElementsByTagName('button')[0].disabled = false;// +button  //enable
                                cell.getElementsByTagName('img')[0].style.backgroundColor = "brown"; //we use color to show that is disabled
                                cell.getElementsByTagName('button')[0].style.backgroundColor = "white";

                                //we work on the new cart Table , and its active rows for all new carted rows // we deleted selected row from cart table

                                console.log(row.rowIndex);
                                var clonedRow = document.getElementsByClassName(`clonedRow${row.rowIndex}`); // we get the row element

                                if (clonedRow.length > 0) {// that means something is there
                                    //clonedRow.getAttribute("id",`clonedRow${row.rowIndex}`);
                                    var attributat = clonedRow[0].className;
                                    console.log(attributat);
                                    var cartTableBody = document.getElementById("cartTableBody");
                                    cartTableBody.removeChild(clonedRow[0]);

                                    //we check for desc data row
                                    var clonedRowDesc = cartTableBody.getElementsByClassName(`clonedRowDesc${row.rowIndex}`);
                                    if (clonedRowDesc.length > 0) {
                                        cartTableBody.removeChild(clonedRowDesc[0]);

                                    }

                                    var rowseperatorHr = cartTableBody.getElementsByClassName(`rowseperator${row.rowIndex}`);
                                    if (rowseperatorHr.length > 0) {
                                        cartTableBody.removeChild(rowseperatorHr[0]);

                                    }

                                    removePriceFromCardAndDecreamentCounter(price);

                                    hideAndShowCartTable();
                                    superPromoCalc();
                                }
                                //cartTableBody.removeChild(holdSelectedDataNew[rowNo]);

                                //removeAllChildFromNode(cartTableBody);


                            });
                        }
                        columnCounter++;
                    });









                }
            }
        });

    }
    superPromoPriceDiscount();


    function superPromoPriceDiscount() {
        var isSuperPackeageON = programPackage.superPromoDiscount.showSuperPromo_true_False;
        var superPromoContainer = document.getElementById("superPromoContainer");

        if (isSuperPackeageON == true) {
            superPromoContainer.style.visibility = "visible";
        } else {
            superPromoContainer.style.visibility = "hidden";

        }


    }

    function displayImageCaptureFullPopUp(row) {
        var imguse = row.cells[0].getElementsByTagName('img')[0];
        row.cells[0].addEventListener("click", function () {

            //alert(imguse.src);
            Swal.fire({
                title: "Image Viewer",
                text: "Package Name : " + row.cells[1].innerText,
                //  icon: "success",
                imageUrl: imguse.src,
                showCancelButton: true,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Continue",
                allowOutsideClick: true
            })
        });



    }

    function addEventToDesc(rows, row) {
        var myDecsDataHolderRow = rows[row.rowIndex + 1];

        if (myDecsDataHolderRow.cells.length > 0) {


            if (myDecsDataHolderRow.cells[0].children.length > 1) {
                var descripholderr = myDecsDataHolderRow.cells[0].getElementsByTagName("span"); // td that hold desc
                if (descripholderr != null) {
                    // var thingsToLearn = myDecsDataHolder.getElementsByTagName("button")[0];
                    descripholderr[0].addEventListener("click", function () {
                        // var dataTwo = myDecsDataHolder.getElementsByClassName('datadescvalue')[0];
                        if (descripholderr[1].style.display == "inline") {
                            descripholderr[1].style.display = "none";

                        }
                        else {
                            descripholderr[1].style.display = "inline";
                        }

                    });
                }

            }
        }


    }
    function superPromoCalc() {
        var cartcountervalue = document.getElementById("cartcountervalue");
        var existingValue = +(cartcountervalue.innerText);

        var perCentageDiscountForEach = programPackage.superPromoDiscount.percentagDisoucntOnEachItem;
        var superPromoDiscount = perCentageDiscountForEach * existingValue;

        var totalprice = document.getElementById("totalprice");
        var superpromoprice = document.getElementById("superpromoprice");
        var min = programPackage.superPromoDiscount.minNoItems;
        if (existingValue >= min) {
            var superprice = (+(totalprice.innerHTML) * superPromoDiscount) / 100;


            superpromoprice.innerText = +(totalprice.innerHTML) - superprice;

        } else {
            superpromoprice.innerText = 0;
        }

    }
    function dayOfTheWeek() {
        var days = `<select>
                       <option>Monday</option> 
                       <option>Tuesday</option>
                       <option>Wednessday</option>
                       <option>Thursday</option>
                       <option>Friday</option>
                       <option>Saturday</option>
                </select>`;
        return days;
    }
    function loopThroughAndGetDaysOfWeek(cell) {
        var selectedDay = cell.getElementsByTagName("select");
        var days = "Days :";
        Array.from(selectedDay).forEach(eachSelect => {
            days = days + "," + eachSelect.value;
        });
        return days;
    }

    function transferRowDataForRegistration(row) {
        var checkBox = row.cells[5].getElementsByTagName('input')[0];
        var onlineSupport = "No";
        if (checkBox.checked) {
            onlineSupport = "Yes";
        }
        var priceDataInsideRow = row.cells[3].getElementsByTagName("span")[1].innerText; // price is using second span
        var packagecode = row.cells[2].getElementsByTagName("label")[0].innerText;
        var packageRowCounter = row.cells[0].getElementsByTagName("span")[0].innerText;

        var data = `Name : ${row.cells[1].innerText}, Row No: ${packageRowCounter}, package_Code :${packagecode}, Price : ${row.cells[3].innerText}, Duration:${row.cells[4].innerText}, Support Online: ${onlineSupport}, ${loopThroughAndGetDaysOfWeek(row.cells[2])}`;

        var paymentPageHTML = `../PaystackAtFrontEndIntegration/paystackInlinePayment.html?transAmounturl=${+priceDataInsideRow}&purposeurl=${data}`;
        window.location.href = paymentPageHTML;

    }
    function getPriceFromTableColumn(row) {
        var price = 0;
        var priceSpan = row.cells[3].getElementsByTagName("span");   //in that column only price and striked currency symbol need to be inside span tag
        if (priceSpan.length > 0) {
            price = +(priceSpan[1].innerHTML);// we use second span that hold price
            // +(.innerText);
        }
        return price;
    }
    function setPriceToTableColumnWithOnlineCharge(row, price, addCharge) {

        var priceSpan = row.cells[3].getElementsByTagName("span");   //in that column only price and striked currency symbol need to be inside span tag
        if (addCharge == true) {
            if (priceSpan.length > 0) {
                (priceSpan[1].innerHTML) = (+price) + getPriceFromTableColumn(row);// we use second span that hold price
            }
        } else {
            (priceSpan[1].innerHTML) = (+price);
        }
    }


    function hideAndShowCartTable() {


        var cartTitle = document.getElementById("cartTitle");

        var cartTable = document.getElementById("cartTable");
        var cartTableRows = document.getElementById("cartTable").rows;
        if (cartTableRows.length > 2) {
            cartTable.style.visibility = "visible";
            cartTitle.style.visibility = "visible";

            delateRoll_ManageCartLibrary_CartRegRow_FromCartTableUsingCartDeleteButton();
        } else {
            cartTable.style.visibility = "hidden";
            cartTitle.style.visibility = "hidden";

        }


    }
    function addPriceToCardAndIncreamentCounter(price) {
        var cartcountervalue = document.getElementById("cartcountervalue");
        var existingValue = +(cartcountervalue.innerText);
        cartcountervalue.innerText = existingValue + 1;


        // we sum the price with existing one
        var totalprice = document.getElementById("totalprice");
        var existingPrice = +(totalprice.innerHTML);
        var costreg = document.getElementById("costreg");

        console.log(price);
        totalprice.innerHTML = +(existingPrice + price);
        costreg.innerHTML = +(existingPrice + price);



    }

    function removePriceFromCardAndDecreamentCounter(price) {
        // we remove the price with existing one
        var totalprice = document.getElementById("totalprice");
        var costreg = document.getElementById("costreg");
        var existingPrice = +(totalprice.innerHTML);
        console.log(price);
        totalprice.innerHTML = +(existingPrice - price);
        costreg.innerHTML = +(existingPrice - price);



        //we minus one from the counter
        var cartcountervalue = document.getElementById("cartcountervalue");
        var existingValue = +(cartcountervalue.innerText);
        cartcountervalue.innerText = existingValue - 1;
    }

    function createRowSePerator(classNameToUse) {
        var hrRowData = document.createElement("hr");

        var tdData = document.createElement("td");
        tdData.appendChild(hrRowData);
        tdData.setAttribute("colspan", "7");
        tdData.style.borderWidth = 0;
        var trrow = document.createElement("tr");
        trrow.setAttribute("class", classNameToUse);

        trrow.append(tdData);
        return trrow;
    }
    /* function removeParticulerNodeFromParent(parent, child) {
        while (parent.firstChild) {
            if (parent.firstChild == child) {
                parent.removeChild(child);
                break;
            }
        }
    } */


    function createAccordian(dataHead, DataBody) {

        var accordMaker = `
         <div class="accordion-container">
            <div class="ac">
            <h2 class="ac-header">
                <button class="ac-trigger">${dataHead}</button>
            </h2>
            <div class="ac-panel">
                <p class="ac-text">${DataBody}</p>
            </div>
            </div>
        </div>
    `;
        return accordMaker;
    }
    function NodeProperties() {
        //x.children[], x.hasChildNodes(), x.firstChild, x.nextSibling, x.childNodes, x.lastChild
    }





</script>

<script src="manageCartTable.js" type="text/javascript"></script>

<script src="CollectCartedDataForPayment.js" type="text/javascript"></script>
<script src="appcartegorymaker.js" type="text/javascript"></script>



</html>