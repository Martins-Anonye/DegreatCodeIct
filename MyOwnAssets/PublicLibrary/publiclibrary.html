<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<style>
    div {
        width: 300px;
        height: 500px;
        max-height: 2000px;
        margin-bottom: 20px;


    }

    body {
        padding: 5px;
        overflow: scroll;
    }

    button {
        background-color: darkred;
        border-radius: 5px;
        color: white;
    }
</style>

<body>


    <button id="homebtn">
        HOME
    </button>
    <div>
        <h3 id="titletext"> </h3>

        <img src="" width="200px" height="200px" id="img" />
        <hr>
        <p id="paragraphdata">

        </p>

        <h5><i>.......More resource will be loaded shortly</i></h5>
    </div>






    <script src="publiclibrary.json"></script>
    <script src="../database/DGC price data.json"></script>



    <script>

        document.onreadystatechange = function () {
            var img = document.getElementById("img");
            var titletext = document.getElementById("titletext");

            var paragraphdata = document.getElementById("paragraphdata");
            var dataRowIndex = (+getUrlData("rowNo")) - 1;
            console.log(dataRowIndex);

            var name = publicLibrary.books[dataRowIndex].name;
            var imageurl = publicLibrary.books[dataRowIndex].imageurl;
            var description = publicLibrary.books[dataRowIndex].description;


            var dataDescription = descriptionMaker(description);
            paragraphdata.innerHTML = dataDescription;
            titletext.innerHTML = name;
            img.src = imageurl;




            var homebtn = document.getElementById("homebtn");

            homebtn.addEventListener("click", e => {
                window.location.href = programPackage.PageURL.HomePageURL;
            });

        }


        function descriptionMaker(descArray) {
            var description = "";

            Array.from(descArray).forEach(eachDesc => {
                description = description + " " + eachDesc;
            });
            return description;
        }



        function getUrlData(datakey) {
            var urlParameters = window.location.search; // get url starting from ?, not the link
            var searchParams = new URLSearchParams(urlParameters);
            var value = searchParams.get(datakey);
            return value;
        }
    </script>


</body>

</html>